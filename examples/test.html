<!doctype html>
<html>
    <head>
        <title>Myelin examples</title>
        <script type="text/javascript" src="./jquery.js"></script>
        <script type="text/javascript" src="./underscore.js"></script>
        <script type="text/javascript" src="./backbone.js"></script>
        <script type="text/javascript" src="./coffee-script.js"></script>
        <script type="text/coffeescript" src="./myelin.coffee"></script>
    </head>
    <body>

        <form id="example1">
            <input name="text">
            <span class="text"></span>
            <input name="checkbox" type="checkbox">
            <span class="checkbox"></span>
            <input name="radio" type="radio" value="one">
            <input name="radio" type="radio" value="two" checked>
            <input name="radio" type="radio" value="three">
            <span class="radio"></span>
            <button name="button" type="button">I am a button</button>
            <span class="button"></span>
        </form>
        <script type="text/coffeescript">
            class YesNo extends myelin.Axon
                render: (value) => if value then "yes" else "no"
            class Radio extends myelin.Radio
                clean: (value) =>
                    switch value
                        when "one" then 1
                        when "two" then 2
                        when "three" then 3
                render: (value) =>
                    switch value
                        when 1 then "one"
                        when 2 then "two"
                        when 3 then "three"
            class View1 extends myelin.View
                el: '#example1'
                sync: {
                    text: [true, '.text']
                    radio: [Radio, '.radio']
                    checkbox: [true, new YesNo '.checkbox']
                    button: [true, '.button']
                }
                initialize: => @model = new Backbone.Model radio: 1
            @view1 = new View1
        </script>

    </body>
</html>
